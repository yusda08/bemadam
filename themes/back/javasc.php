<script data-pace-options='{ "restartOnRequestAfter": true }' src="<?= base_url(); ?>assets/js/plugin/pace/pace.min.js"></script>

<!-- Link to Google CDN's jQuery + jQueryUI; fall back to local -->
<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>-->

<script> if (!window.jQuery) {
        document.write('<script src="<?= base_url(); ?>assets/js/libs/jquery-2.1.1.min.js"><\/script>'); }</script>
<!--<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>-->
<script> if (!window.jQuery.ui) {
        document.write('<script src="<?= base_url(); ?>assets/js/libs/jquery-ui-1.10.3.min.js"><\/script>');
    }</script>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
  <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->
<script src="<?= base_url(); ?>assets/js/app.config.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/jquery-touch/jquery.ui.touch-punch.min.js"></script> 
<script src="<?= base_url(); ?>assets/js/bootstrap/bootstrap.min.js"></script>
<script src="<?= base_url(); ?>assets/js/notification/SmartNotification.min.js"></script>
<script src="<?= base_url(); ?>assets/js/smartwidgets/jarvis.widget.min.js"></script>
<!--<script src="<?= base_url(); ?>assets/js/plugin/easy-pie-chart/jquery.easy-pie-chart.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/sparkline/jquery.sparkline.min.js"></script>-->
<script src="<?= base_url(); ?>assets/js/plugin/jquery-validate/jquery.validate.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/masked-input/jquery.maskedinput.min.js"></script>
<!--<script src="<?= base_url(); ?>assets/js/plugin/select2/select2.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/bootstrap-slider/bootstrap-slider.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/msie-fix/jquery.mb.browser.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/fastclick/fastclick.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/demo.min.js"></script>-->
<script src="<?= base_url(); ?>assets/js/app.min.js"></script>
<!--<script src="<?= base_url(); ?>assets/js/speech/voicecommand.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/smart-chat-ui/smart.chat.ui.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/smart-chat-ui/smart.chat.manager.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/vectormap/jquery-jvectormap-1.2.2.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/vectormap/jquery-jvectormap-world-mill-en.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/moment/moment.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/fullcalendar/jquery.fullcalendar.min.js"></script>-->
<script src="<?= base_url(); ?>assets/js/plugin/datatables/jquery.dataTables.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/datatables/dataTables.colVis.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/datatables/dataTables.tableTools.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/datatables/dataTables.bootstrap.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/datatable-responsive/datatables.responsive.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/jquery-nestable/jquery.nestable.min.js"></script>
<!--<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />-->
<script src="<?= base_url(); ?>assets/js/plugin/select2/select2.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/maxlength/bootstrap-maxlength.min.js"></script>
<!--<script src="<?= base_url(); ?>assets/js/plugin/bootstrap-timepicker/bootstrap-timepicker.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/clockpicker/clockpicker.min.js"></script>-->
<script src="<?= base_url(); ?>assets/js/plugin/bootstrap-tags/bootstrap-tagsinput.min.js"></script>
<!--<script src="<?= base_url(); ?>assets/js/plugin/noUiSlider/jquery.nouislider.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/ion-slider/ion.rangeSlider.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/bootstrap-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>-->		
<!--<script src="<?= base_url(); ?>assets/js/plugin/colorpicker/bootstrap-colorpicker.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/knob/jquery.knob.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/x-editable/moment.min.js"></script>-->
<!--<script src="<?= base_url(); ?>assets/js/plugin/x-editable/jquery.mockjax.min.js"></script>-->
<script src="<?= base_url(); ?>assets/js/plugin/x-editable/x-editable.min.js"></script>
<!--<script src="<?= base_url(); ?>assets/js/plugin/typeahead/typeahead.min.js"></script>
<script src="<?= base_url(); ?>assets/js/plugin/typeahead/typeaheadjs.min.js"></script>-->
<script src="<?= base_url(); ?>assets/js/plugin/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/croppie.js"></script>
<script src="<?php echo base_url(); ?>assets/js/froala_editor.pkgd.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/plugin/bootstrap-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!--<script src="https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/1ef022ab/dist/jquery.mask.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.18/datatables.min.js"></script>-->
<!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.5.1//js/froala_editor.pkgd.min.js"></script>-->
<script>
    $(function () {
        $('.textedit').froalaEditor({
            heightMin: 200,
            heightMax: 200,
            toolbarButtons: ['fontFamily', '|', 'fontSize', '|', 'paragraphFormat', '|', 'bold', 'italic', 'underline', 'undo', 'redo', 'codeView', '|', 'paragraphFormat', 'align', 'formatOL', 'formatUL', 'outdent', 'indent'],
            fontFamilySelection: true,
            fontSizeSelection: true,
            paragraphFormatSelection: true,

        })
    });

    $('.validate-form select').on('change', function (e) {
        $('.validate-form').validate().element($(this));
    });
    $(document).ready(function () {
        pageSetUp();

        $('.tabel_3').DataTable({
            "scrollY": "80vh",
            "scrollX": true,
            "scrollCollapse": true,
            'ordering': true,
            "paging": false
        });
        $('.tabel_2').DataTable({
            'paging': true,
            'lengthChange': true,
            'searching': true,
            'ordering': false,
            'info': false,
            'autoWidth': true,
            'pageLength': 50

        });

        $('.tabel_1').DataTable({
            'paging': true,
            'lengthChange': true,
            'searching': true,
            'ordering': false,
            'info': false,
            'autoWidth': true,
            'pageLength': 100

        });
        /* END TABLETOOLS */

    });



    function idleTimer() {
        var t;
        //window.onload = resetTimer;
        window.onmousemove = resetTimer; // catches mouse movements
        window.onmousedown = resetTimer; // catches mouse movements
        window.onclick = resetTimer;     // catches mouse clicks
        window.onscroll = resetTimer;    // catches scrolling
        window.onkeypress = resetTimer;  //catches keyboard actions

        function lock_screen() {
            window.location.href = '<?= site_url("login/Login/lock_screen/" . $kd_user . "?tahun=" . $tahun); ?> ';  //Adapt to actual logout script
        }
        function resetTimer() {
            clearTimeout(t);
            t = setTimeout(lock_screen, 6000000);
        }
    }
    idleTimer();

    setTimeout(function () {
        $('#notiv').fadeOut('slow');
    }, 4000);

    $(document).ready(function () {
        $('#nestable-menu').on('click', function (e) {
            var target = $(e.target), action = target.data('action');
            if (action === 'expand-all') {
                $('.tut').nestable('expandAll');
            }
            if (action === 'collapse-all') {
                $('.tut').nestable('collapseAll');
            }
        });
        $('#nestable3').nestable();
    })


    $(document).ready(function () {

        // Format mata uang.
        $('.uang').mask('0.000.000.000', {reverse: true});

        // Format nomor HP.
        $('.no_hp').mask('0000−0000−0000');

        // Format tahun pelajaran.
        $('.tapel').mask('0000/0000');
    })
    function sukses(ket) {
        $("#notivs").html('<div class="alert alert-success alert-dismissable animated fadeIn" id="notification"> <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button> <h4><i class="icon fa fa-check"></i> Sukses!</h4> Berhasil di ' + ket + '. </div>');
        $('#close-modal').trigger("click");
        $('.close-modal').trigger("click");
        setTimeout(function () {
            location.reload();
            $('#notification').fadeOut('slow');
        }, 2000);
    }
    function gagal(ket) {
        $("#notivs").html('<div class="alert alert-danger alert-dismissible" id="alert-notification"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><h4><i class="icon fa fa-ban"></i> Peringatan!</h4> Gagal Di Simpan. </div>');
        $('#close-modal').trigger("click");
        $('.close-modal').trigger("click");
        setTimeout(function () {
            $('#alert-notification').fadeOut('slow');
        }, 2000);
    }

    function notif_alert_sukses(ket) {
        $.smallBox({
            title: "Berhasil",
            content: "<i class='fa fa-check'></i> <i>" + ket + "</i>",
            color: "#296191",
            iconSmall: "fa fa-thumbs-up bounce animated",
            timeout: 2000
        });
        setTimeout(function () {
            location.reload();
        }, 2000);
    }

    function notif_sukses_noReload(ket) {
        $.smallBox({
            title: "Berhasil",
            content: "<i class='fa fa-check'></i> <i>" + ket + "</i>",
            color: "#296191",
            iconSmall: "fa fa-thumbs-up bounce animated",
            timeout: 2000
        });
        $('.close-modal').trigger("click");
        setTimeout(function () {
        }, 2000);
    }

    function notif_alert_gagal(ket) {
        $.smallBox({
            title: "Gagal !!!",
            content: "<i class='fa fa-remove'></i> <i>" + ket + "</i>",
            color: "#990F0F",
            iconSmall: "fa fa-thumbs-up bounce animated",
            timeout: 4000
        });
    }
//    $(document).ready(function () {
//        $(".preloader").fadeOut();
//    })

    $(window).bind("load", function () {
        $(".preloader").fadeOut('slow')
    });
</script>
